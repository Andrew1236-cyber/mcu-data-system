# –ò–¢–û–ì–û–í–´–ô –û–¢–ß–ï–¢ –ü–û –£–ß–ï–ë–ù–û–ú–£ –ü–†–û–ï–ö–¢–£

## üìã –ó–ê–î–ê–ù–ò–ï: –°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∞ –∏ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —Å –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø:

### –ó–ê–î–ê–ù–ò–ï 1: –°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
- ‚úÖ TCP-—Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:–¥–∞–Ω–Ω—ã–µ:–≤—Ä–µ–º–µ–Ω–Ω–∞—è_–º–µ—Ç–∫–∞"
- ‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ SQLite –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í –±–∞–∑–µ –µ—Å—Ç—å –∑–∞–ø–∏—Å–∏ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏ –≤—Ä–µ–º–µ–Ω–∏

### –ó–ê–î–ê–ù–ò–ï 2: –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ RabbitMQ (—ç–º—É–ª—è—Ü–∏—è)
- ‚úÖ SQLite –æ—á–∏—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–≤—Ç–æ—Ä–∞ –ø—Ä–∏ —Å–±–æ—è—Ö
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –æ–ø–µ—Ä–∞—Ü–∏–π –æ—Ç–ø—Ä–∞–≤–∫–∏
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:

- **–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π –≤ –±–∞–∑–µ:** 125
- **–£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ RabbitMQ:** 122 (98%)
- **–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã:** –±–æ–ª–µ–µ 10 –º–∏–Ω—É—Ç
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** 100% (–±–µ–∑ —Å–±–æ–µ–≤)

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´:
mcu_system/
‚îú‚îÄ‚îÄ mcu_simulator.py # –ò–º–∏—Ç–∞—Ü–∏—è STM32
‚îú‚îÄ‚îÄ data_receiver/ # TCP-—Å–µ—Ä–≤–µ—Ä + SQLite
‚îÇ ‚îú‚îÄ‚îÄ run_server.py
‚îÇ ‚îú‚îÄ‚îÄ tcp_server.py
‚îÇ ‚îú‚îÄ‚îÄ database.py
‚îÇ ‚îî‚îÄ‚îÄ sensor_data.db
‚îú‚îÄ‚îÄ data_sync/ # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å RabbitMQ
‚îÇ ‚îú‚îÄ‚îÄ run_sync.py
‚îÇ ‚îî‚îÄ‚îÄ rabbitmq_sync.py
‚îî‚îÄ‚îÄ final_demo.py # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã


## üöÄ –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ó–ê–ü–£–°–ö–£:


# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - –°–µ—Ä–≤–µ—Ä
cd data_receiver && python run_server.py

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
cd data_sync && python run_sync.py

# –¢–µ—Ä–º–∏–Ω–∞–ª 3 - –ö–ª–∏–µ–Ω—Ç
python mcu_simulator.py

# –¢–µ—Ä–º–∏–Ω–∞–ª 4 - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è
python final_demo.py


## üîå –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è STM32

### –ü—Ä–æ—à–∏–≤–∫–∞ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞
–ü–æ–ª–Ω—ã–π –∫–æ–¥ –¥–ª—è STM32 –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø–∞–ø–∫–µ [stm32_firmware/](stm32_firmware/).

#### ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–¥–∞–Ω–∏—é:
- **STM32Cube + LwIP**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–æ—Ç–æ–≤—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ STM32Cube –¥–ª—è Ethernet
- **TCP/IP –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É TCP/IP  
- **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö**: `—É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:–¥–∞–Ω–Ω—ã–µ:–≤—Ä–µ–º–µ–Ω–Ω–∞—è_–º–µ—Ç–∫–∞` (STM32_001:TEMP_25.5:123456789)
- **–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å**: –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥

#### üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- **HAL –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**: STM32Cube Hardware Abstraction Layer
- **LwIP stack**: Lightweight IP stack –¥–ª—è TCP/IP
- **Ethernet**: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ETH peripheral
- **–¢–∞–π–º–µ—Ä—ã**: TIM2 –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö

#### üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ STM32CubeIDE –¥–ª—è —Ü–µ–ª–µ–≤–æ–π –ø–ª–∞—Ç—ã STM32
2. –í–∫–ª—é—á–∏—Ç—å Ethernet –∏ LwIP –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
3. –î–æ–±–∞–≤–∏—Ç—å –∫–æ–¥ –∏–∑ `stm32_firmware/main.c`
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–∞–π–º–µ—Ä –Ω–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
5. –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –∏ –ø—Ä–æ—à–∏—Ç—å –Ω–∞ STM32

#### üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π:
- STM32 –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ TCP —Å–µ—Ä–≤–µ—Ä (Python –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- –°–µ—Ä–≤–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ SQLite –±–∞–∑—É
- –î–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è —Å RabbitMQ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- SQLite –æ—á–∏—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏

*–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –î–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —ç–º—É–ª—è—Ç–æ—Ä STM32 —Å –∏–¥–µ–Ω—Ç–∏—á–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é.*

üéØ –í–´–í–û–î:
–°–∏—Å—Ç–µ–º–∞ —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—Å–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è.
–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è, –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞–¥–µ–∂–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞
–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
